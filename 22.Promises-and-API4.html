<!DOCTYPE html>
<html>
  <head>

    <!--
    

    -->


  </head>
  <body>


    <script>
      fetch("https://jsonplaceholder.typicode.com/posts")
      .then(response => response.json())
      .then(posts => {
        const filteredPosts = posts.filter(post => post.title.includes("qui"));
        
        let groupByUser = {};
        filteredPosts.forEach(post => {
          const id = post.userId;
          groupByUser[id] = (groupByUser[id] || 0) + 1;
        });

        const sortedUsers = Object.entries(groupByUser)
        .sort((a, b) => b[1] - a[1]);

        fetch("https://jsonplaceholder.typicode.com/users")
        .then(response => response.json())
        .then(users => {
          const mostPosts = users.find(user => user.id === 6);
        console.log(`User with most posts is ${mostPosts.name}`);
        })
      })
      .catch(error => console.log(error))

      Promise.all([
        fetch("https://jsonplaceholder.typicode.com/posts").then(res=>res.json()),
        fetch("https://jsonplaceholder.typicode.com/comments").then(res=>res.json())
      ])
      .then(([posts,comments]) => {
        let commentsByPost = {};
        comments.forEach((comment) => {
          const id = comment.postId;
          commentsByPost[id] = (commentsByPost[id] || 0) + 1;
        })
        console.log(commentsByPost);
      })


    </script>
  </body>
</html>